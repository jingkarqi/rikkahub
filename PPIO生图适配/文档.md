# Seedream 图片生成 4.0

Seedream 4.0 是一款先进的图像生成模型，提供灵活的图像创建功能，包括支持4K分辨率，可以从文本和其他图像生成图像。

本接口支持个人认证及企业认证用户调用。请参见 [实名认证](/docs/support/identity-verification)，完成个人用户认证或企业用户认证，以确保可以正常使用本功能。

## 请求头

### Content-Type

**类型**: string  
**必要性**: required

枚举值: `application/json`

### Authorization

**类型**: string  
**必要性**: required

Bearer 身份验证格式，例如：Bearer {{API 密钥}}。

## 请求体

### prompt

**类型**: string  
**必要性**: required

用于生成图像的提示词，支持中英文。建议不超过300个汉字或600个英文单词。字数过多信息容易分散，模型可能因此忽略细节，只关注重点，造成视图片缺失部分元素。

### images

**类型**: string\[\]

输入要编辑的图像的Base64编码或可访问的URL。支持输入单张或多张图像。

*   **图像URL**: 确保图像URL可访问。
*   **Base64编码**: 格式必须为`data:image/<图像格式>;base64,<Base64编码>`。  
    输入图像必须满足以下要求：
    *   图像格式：jpeg, png
    *   宽高比（宽度/高度）：范围为\[1/3, 3\]
    *   宽度和高度（像素）：> 14
    *   大小：不超过10 MB
    *   总像素值：不超过 `6000×6000` PX
    *   支持上传最多10张参考图像。

### size

**类型**: string

设置生成图像的规格。有两种方法可用，但不能同时使用。

*   方法1，指定分辨率。
    *   可选值：“1K”, “2K”, “4K”
*   方法2，指定生成图像的宽度和高度（像素）。
    *   默认值：“2048x2048”
    *   总像素值范围：“\[1024x1024, 4096x4096\]”
    *   宽高比值范围：“\[1/16, 16\]”

推荐的宽度和高度：

| 宽高比 | 宽度和高度像素值 |
| --- | --- |
| 1:1 | 2048x2048 |
| 4:3 | 2304x1728 |
| 3:4 | 1728x2304 |
| 16:9 | 2560x1440 |
| 9:16 | 1440x2560 |
| 3:2 | 2496x1664 |
| 2:3 | 1664x2496 |
| 21:9 | 3024x1296 |

### sequential\_image\_generation

**类型**: string  
**默认值**: "disabled"

控制是否禁用批量生成功能。

*   `auto`: 在自动模式下，模型会根据用户的提示词自动决定是否返回多张图像以及包含多少张图像。
*   `disabled`: 禁用批量生成功能。模型将只生成一张图像。

### max\_images

**类型**: integer  
**默认值**: `15`

指定此请求中要生成的最大图像数量。此参数仅在`sequential_image_generation`设置为`auto`时有效。取值范围：“\[1, 15\]”。

说明：实际生成的图像数量受`max_images`和输入参考图像数量的影响。输入参考图像数量 + 生成图像数量 ≤ `15`。

### watermark

**类型**: boolean  
**默认值**: true

为生成的图像添加水印。

*   `false`: 不添加水印。
*   `true`: 在图像的右下角添加带有 “AI生成” 文字的水印。

## 响应

### images

**类型**: string\[\]



---
# 示例调用

**示例代码**

```cURL
curl --request POST \
  --url https://api.ppinfra.com/v3/seedream-4.0 \
  --header 'Authorization: <authorization>' \
  --header 'Content-Type: <content-type>' \
  --data '{
  "prompt": "<string>",
  "images": [
    "<string>"
  ],
  "size": "<string>",
  "sequential_image_generation": "<string>",
  "max_images": 123,
  "watermark": true
}'
```

```python
import requests

url = "https://api.ppinfra.com/v3/seedream-4.0"

payload = {
    "prompt": "<string>",
    "images": ["<string>"],
    "size": "<string>",
    "sequential_image_generation": "<string>",
    "max_images": 123,
    "watermark": True
}
headers = {
    "Content-Type": "<content-type>",
    "Authorization": "<authorization>"
}

response = requests.post(url, json=payload, headers=headers)

print(response.json())
```

```javascript
const url = 'https://api.ppinfra.com/v3/seedream-4.0';
const options = {
  method: 'POST',
  headers: {'Content-Type': '<content-type>', Authorization: '<authorization>'},
  body: '{"prompt":"<string>","images":["<string>"],"size":"<string>","sequential_image_generation":"<string>","max_images":123,"watermark":true}'
};

try {
  const response = await fetch(url, options);
  const data = await response.json();
  console.log(data);
} catch (error) {
  console.error(error);
}
```